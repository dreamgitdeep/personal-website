# 旅游相册功能说明

## 功能特点

✨ **自动照片加载**：从配置文件读取照片列表，自动展示在网页上  
📷 **瀑布流布局**：响应式设计，大屏4列、中屏3列、小屏2列、手机1列  
🔍 **点击放大**：点击照片可全屏查看，支持左右切换  
✏️ **备注编辑**：可为每张照片添加备注描述，自动保存到本地  
📱 **响应式设计**：完美适配桌面端和移动端  
⌨️ **键盘导航**：支持ESC关闭、左右箭头切换照片  
👆 **触摸滑动**：移动端支持左右滑动切换照片

---

## 如何添加新照片

### 方法一：自动扫描（推荐）

1. 将新照片放入 `images/hobbies/travel/` 文件夹
2. 在项目根目录运行以下命令：
   ```bash
   node scripts/scan-travel-photos.js
   ```
3. 脚本会自动：
   - 扫描文件夹中的所有图片（支持 .jpg, .jpeg, .png, .webp, .gif）
   - 按文件名排序
   - 更新 `data/travel-photos.json` 配置文件
   - 保留已有的照片备注

### 方法二：手动编辑

1. 将新照片放入 `images/hobbies/travel/` 文件夹
2. 编辑 `data/travel-photos.json` 文件
3. 添加新的照片条目，格式如下：
   ```json
   {
     "id": 11,
     "file": "照片文件名.jpg",
     "caption": "",
     "order": 11
   }
   ```

---

## 技术实现

### 文件结构

```
学习制作个人网站/
├── images/
│   └── hobbies/
│       └── travel/           # 旅游照片存放目录
├── data/
│   └── travel-photos.json    # 照片配置文件
├── scripts/
│   └── scan-travel-photos.js # 自动扫描脚本
├── css/
│   └── travel-gallery.css    # 旅游相册样式
├── js/
│   └── travel-gallery.js     # 旅游相册功能脚本
└── travel-gallery.html       # 旅游相册页面
```

### 核心功能

1. **照片加载**
   - 从 `data/travel-photos.json` 读取照片列表
   - 动态生成瀑布流布局
   - 图片懒加载（loading="lazy"）

2. **图片查看**
   - 全屏模态框展示
   - 支持键盘和触摸导航
   - 图片自适应缩放

3. **备注管理**
   - localStorage 本地存储
   - 实时更新显示
   - 跨会话保存

---

## 常见问题

### Q: 照片没有显示？
A: 检查以下几点：
- 照片是否在 `images/hobbies/travel/` 文件夹中
- `data/travel-photos.json` 是否包含该照片信息
- 文件名是否正确（区分大小写）

### Q: 如何批量添加照片？
A: 推荐使用自动扫描脚本，一次添加多张照片后运行脚本即可。

### Q: 备注会丢失吗？
A: 不会。备注保存在浏览器的 localStorage 中，清除浏览器缓存才会丢失。未来可以考虑将备注也保存到配置文件中。

### Q: 支持哪些图片格式？
A: 支持 .jpg, .jpeg, .png, .webp, .gif 格式。

---

## 未来优化方向

- [ ] 图片压缩优化
- [ ] 照片分组（按地点、时间）
- [ ] 照片搜索功能
- [ ] 批量备注编辑
- [ ] 照片上传界面
- [ ] EXIF信息读取（拍摄时间、地点）

---

## 更新日志

**2026-02-26**
- ✅ 实现自动照片加载功能
- ✅ 创建自动扫描脚本
- ✅ 完成瀑布流布局
- ✅ 添加图片点击放大功能
- ✅ 实现备注编辑功能
- ✅ 优化响应式设计
